---
interface Props {
  title: string;
}

import { ViewTransitions } from 'astro:transitions';
import HomeButton from '../components/HomeButton.astro';

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <slot name="head" />
    <meta content={title} property="og:title">
    <meta content={title} property="twitter:title">
    <meta content="https://izvir.org/share.jpeg" property="og:image">
    <meta content="https://izvir.org/share.jpeg" property="twitter:image">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
    <link href="/icon-32.png" rel="shortcut icon" type="image/x-icon">
    <link href="/icon-256.png" rel="apple-touch-icon">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KWHLS13NPS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KWHLS13NPS');
    </script>
    <script async src="https://analytics.umami.is/script.js" data-website-id="b4b12261-3186-4697-a93a-5e23a6af86c1"></script>
    <script>
      !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
      posthog.init('phc_PW1LNLineV6ik52fFyX8P0AeZHEAgdC9xiSOWqAte8M',{api_host:'https://app.posthog.com'})
    </script>
  </head>
  <body class="bg-black text-white font-sans">
    <div id="back" class="overlay"></div>
    <div id="god" class="overlay strobe"></div>
    <HomeButton />
    <main>
      <slot />
    </main>
    <script>
    </script>
  </body>
</html>

<style is:global>
  body {
    font-family: 'Chakra Petch', sans-serif !important;
    background-color: #000;
    font-size: 14px;
  }

  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    pointer-events: none;
  }

  #back {
    background-color: rgba(0, 0, 0, 0.5);
    z-index: -1;
    animation: opacityLoop 58s infinite;
    background-image: url('/images/bgx.jpeg');
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-position: center;
    background-attachment: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: fixed;
  }

  @keyframes opacityLoop {
    0% { opacity: 0.1; }
    80% { opacity: 0.7; }
    100% { opacity: 0.1; }
  }

  .strobe {
    animation: strobe 0.05s steps(1) 8;
    pointer-events: none;
  }

  @keyframes strobe {
    0%, 100% { 
      opacity: 0;
    }
    50% { 
      opacity: 1;
      background: rgba(255, 255, 255, 0.2);
      mix-blend-mode: screen;
    }
  }

  #god {
    background: transparent;
  }

  #god.strobe {
    mix-blend-mode: screen;
  }

  .izvir {
    max-width: 250px;
  }

  .red-bg {
    background-color: #FF0000;
  }

  .red-button {
    background-color: transparent;
    border: 1px #FF0000 solid;
  }

  .red-button:hover {
    background-color: #CC0000;
  }

  .top-nav {
    max-width: 250px;
  }

  @keyframes pulse-animation {
    0%, 100% {
      transform: scale(1);
      filter: blur(0);
    }
    50% {
      transform: scale(1.2);
      filter: blur(20px);
    }
  }

  .animate-pulse-animation {
    animation: pulse-animation 25s infinite;
  }
</style>
